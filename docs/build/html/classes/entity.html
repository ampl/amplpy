
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Entity &#8212; AMPL API 2.0 (amplpy-0.6.10) documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Variable" href="variable.html" />
    <link rel="prev" title="ErrorHandler" href="runnable.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="variable.html" title="Variable"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="runnable.html" title="ErrorHandler"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">AMPL API 2.0 (amplpy-0.6.10) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" accesskey="U">Python API reference</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="runnable.html"
                        title="previous chapter">ErrorHandler</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="variable.html"
                        title="next chapter">Variable</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/classes/entity.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="entity">
<span id="ref-entity"></span><h1>Entity<a class="headerlink" href="#entity" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="amplpy.Entity">
<em class="property">class </em><code class="descclassname">amplpy.</code><code class="descname">Entity</code><span class="sig-paren">(</span><em>_impl</em>, <em>wrapFunction=None</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity" title="Permalink to this definition">¶</a></dt>
<dd><p>An AMPL entity such as a parameter or a variable.</p>
<p>An entity can either represent a single instance of an AMPL algebraic
entity or, if the corresponding declaration has an indexing expression, a
mapping from keys to instances. In the derived classes, it has methods to
access instance-level properties which can be used in case the represented
entity is scalar.</p>
<p>To gain access to all the values in an entity (for all instances and all
suffixes for that entities), use the function
<a class="reference internal" href="#amplpy.Entity.getValues" title="amplpy.Entity.getValues"><code class="xref py py-func docutils literal notranslate"><span class="pre">getValues()</span></code></a>.</p>
<p>The algebraic entities which currenty have an equivalent class in the API
are:</p>
<ul class="simple">
<li>Variables (see <a class="reference internal" href="variable.html#amplpy.Variable" title="amplpy.Variable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Variable</span></code></a>)</li>
<li>Constraints (see <a class="reference internal" href="constraint.html#amplpy.Constraint" title="amplpy.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>)</li>
<li>Objectives (see <a class="reference internal" href="objective.html#amplpy.Objective" title="amplpy.Objective"><code class="xref py py-class docutils literal notranslate"><span class="pre">Objective</span></code></a>)</li>
<li>Sets (see <a class="reference internal" href="set.html#amplpy.Set" title="amplpy.Set"><code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code></a>)</li>
<li>Parameters (see <a class="reference internal" href="parameter.html#amplpy.Parameter" title="amplpy.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a>)</li>
</ul>
<dl class="method">
<dt id="amplpy.Entity.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>_impl</em>, <em>wrapFunction=None</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(…) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="amplpy.Entity.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="amplpy.Entity.__setitem__">
<code class="descname">__setitem__</code><span class="sig-paren">(</span><em>index</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.__setitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="amplpy.Entity.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>*index</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the instance with the specified index.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The corresponding instance.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>*index</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current entity for an instance with the specified index.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The wanted instance if found, otherwise it returns <cite>None</cite>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.instances">
<code class="descname">instances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the instances in this entity..</p>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.name">
<code class="descname">name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of this entity.</p>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.indexarity">
<code class="descname">indexarity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.indexarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indexarity of this entity (sum of the dimensions of the
indexing sets).
This value indicates the arity of the tuple to be passed to the method
<a class="reference internal" href="#amplpy.Entity.get" title="amplpy.Entity.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">get()</span></code></a> in order to access an instance of this
entity. See the following AMPL examples:</p>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nv">x</span><span class="p">;</span><span class="w">               </span><span class="c1"># indexarity = 0</span>
<span class="kd">var</span> <span class="nv">y</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">};</span><span class="w">        </span><span class="c1"># indexarity = 1</span>
<span class="kd">var</span> <span class="nv">z</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">..</span><span class="mi">4</span><span class="p">};</span><span class="w">   </span><span class="c1"># indexarity = 2</span>
<span class="kd">var</span> <span class="nv">zz</span><span class="w"> </span><span class="p">{{(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)}};</span><span class="w">   </span><span class="c1"># indexarity = 2</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The sum of the dimensions of the indexing sets or 0 if the
entity is not indexed.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.isScalar">
<code class="descname">isScalar</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.isScalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether this entity is scalar. Equivalent to testing whether
<a class="reference internal" href="#amplpy.Entity.indexarity" title="amplpy.Entity.indexarity"><code class="xref py py-func docutils literal notranslate"><span class="pre">indexarity()</span></code></a> is equal to zero.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>True if the entity is scalar (not indexed over any set).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.numInstances">
<code class="descname">numInstances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.numInstances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of instances in this entity.</p>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.getIndexingSets">
<code class="descname">getIndexingSets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.getIndexingSets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the AMPL string representation of the sets on which this entity is
indexed. The obtained vector can be modified without any effect to the
entity.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The string representation of the indexing sets for this entity or
an empty array if the entity is scalar.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.getValues">
<code class="descname">getValues</code><span class="sig-paren">(</span><em>suffixes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.getValues" title="Permalink to this definition">¶</a></dt>
<dd><p>If a list of suffixes is provided, get the specified suffixes value for
all instances. Otherwise, get all the principal values of this entity.
The specific returned value depends on the type of entity (see list
below). For:</p>
<ul class="simple">
<li>Variables and Objectives it returns the suffix <code class="docutils literal notranslate"><span class="pre">val</span></code>.</li>
<li>Parameters it returns their values.</li>
<li>Constraints it returns the suffix <code class="docutils literal notranslate"><span class="pre">dual</span></code>.</li>
<li>Sets it returns all the members of the set. Note that it does not
apply to indexed sets. See <a class="reference internal" href="set.html#amplpy.Set.getValues" title="amplpy.Set.getValues"><code class="xref py py-func docutils literal notranslate"><span class="pre">getValues()</span></code></a>.</li>
</ul>
<dl class="docutils">
<dt>Retruns:</dt>
<dd>A <a class="reference internal" href="dataframe.html#amplpy.DataFrame" title="amplpy.DataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></a> containing the values for all
instances.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="amplpy.Entity.setValues">
<code class="descname">setValues</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#amplpy.Entity.setValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the values of this entiy to the correponding values of a
DataFrame indexed over the same sets (or a subset).
This function assigns the values in the first data column of
the passed dataframe to the entity the function is called from.
In particular, the statement:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">setValues</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">getValues</span><span class="p">())</span>
</pre></div>
</div>
<p>is semantically equivalent to the AMPL statement:</p>
<div class="highlight-ampl notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="p">{</span>s<span class="w"> </span><span class="kr">in</span><span class="w"> </span>S<span class="p">}</span> <span class="nv">x</span><span class="p">[</span>s<span class="p">]</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span>y<span class="p">[</span>s<span class="p">];</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Args:</dt>
<dd>data: The data to set the entity to.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="amplpy.Entity.__module__">
<code class="descname">__module__</code><em class="property"> = 'amplpy.entity'</em><a class="headerlink" href="#amplpy.Entity.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="variable.html" title="Variable"
             >next</a> |</li>
        <li class="right" >
          <a href="runnable.html" title="ErrorHandler"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">AMPL API 2.0 (amplpy-0.6.10) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../reference.html" >Python API reference</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-2019, AMPL Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>